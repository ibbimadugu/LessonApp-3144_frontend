import{_ as g,n as y,k as b,p as x,o as _,m as f,l as v,j as w,i as k,h as V,g as C,f as N,e as j,d as F,c as I,b as L,a as P}from"./_plugin-vue_export-helper-BblAaK5a.js";import{c as i,a as t,F as S,g as q,t as c,w as u,i as m,n as h,j as l,f as E,k as B,h as O,o as n,b as T}from"./index-bPzjVZG0.js";const z={data(){return{cart:[],name:"",phone:""}},computed:{total(){return this.cart.reduce((a,e)=>a+parseFloat(e.price)*(e.quantity||1),0)},isNameValid(){return/^[A-Za-z\s]+$/.test(this.name)},isPhoneValid(){return/^[0-9]+$/.test(this.phone)},isFormValid(){return this.isNameValid&&this.isPhoneValid&&this.name&&this.phone}},methods:{removeFromCart(a){const e=this.cart[a];e.quantity>1?e.quantity--:this.cart.splice(a,1),localStorage.setItem("cart",JSON.stringify(this.cart))},async checkout(){if(this.isFormValid){const a={name:this.name,phone:this.phone,items:this.cart.map(e=>({subject:e.subject,location:e.location,price:e.price,quantity:e.quantity||1}))};try{const e=await submitOrder(a);toast("Order submitted successfully!",{type:"success",autoClose:3e3}),this.cart=[],this.name="",this.phone="",localStorage.removeItem("cart")}catch{toast("There was an issue with your order submission.",{type:"error",autoClose:3e3})}}else toast("Please fill out the form correctly.",{type:"error",autoClose:3e3})},getLessonImage(a){switch(a.toLowerCase()){case"art history":return P;case"biology":return L;case"chemistry":return I;case"computer science":return F;case"economics":return j;case"engineering":return N;case"english literature":return C;case"french":return V;case"geography":return k;case"history":return w;case"law":return v;case"math":return f;case"music theory":return _;case"philosophy":return x;case"physics":return b;case"psychology":return y;default:return""}}},created(){this.cart=JSON.parse(localStorage.getItem("cart"))||[]}},D={class:"cart-page max-w-5xl mx-auto p-6"},J={key:0,class:"text-center text-gray-500"},U={key:1},Y={class:"flex items-center"},A={class:"lesson-image-container w-24 h-24 overflow-hidden mr-6 rounded-lg"},M=["src"],R={class:"lesson-title text-xl font-semibold text-gray-800 mb-1"},Z={class:"lesson-location text-sm text-gray-600 mb-2"},G={class:"lesson-price text-lg font-semibold text-green-600"},H={class:"flex items-center space-x-4"},K=["onClick"],Q={class:"mt-6"},W={class:"font-semibold text-xl text-gray-800 mb-4"},X={class:"checkout-form space-y-4"},$={key:0,class:"text-red-500 text-sm mt-1"},ee={key:0,class:"text-red-500 text-sm mt-1"},te=["disabled"],se={class:"mt-6 text-center"};function re(a,e,oe,ae,r,o){const p=O("router-link");return n(),i("div",D,[e[4]||(e[4]=t("h2",{class:"text-3xl font-semibold mb-6 text-gray-800"},"Your Cart",-1)),r.cart.length===0?(n(),i("div",J," Your cart is empty. ")):(n(),i("div",U,[(n(!0),i(S,null,q(r.cart,(s,d)=>(n(),i("div",{key:d,class:"cart-item flex items-center justify-between p-6 mb-4 border rounded-lg shadow-lg bg-white"},[t("div",Y,[t("div",A,[s.image?(n(),i("img",{key:0,src:o.getLessonImage(s.subject),alt:"Lesson image",class:"w-full h-full object-cover"},null,8,M)):l("",!0)]),t("div",null,[t("h3",R,c(s.subject),1),t("p",Z,c(s.location),1),t("p",G," $"+c(s.price),1)])]),t("div",H,[t("button",{onClick:ie=>o.removeFromCart(d),class:"text-sm font-semibold bg-red-500 text-white py-2 px-4 rounded-lg hover:bg-red-600 transition-colors duration-300"}," Remove ",8,K)])]))),128)),t("div",Q,[t("p",W," Total: $"+c(o.total),1),t("div",X,[t("div",null,[u(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>r.name=s),type:"text",placeholder:"Enter your name",class:h(["w-full p-3 border rounded-lg",{"border-red-500":!o.isNameValid&&r.name!==""}])},null,2),[[m,r.name]]),!o.isNameValid&&r.name!==""?(n(),i("p",$," Enter a valid name. ")):l("",!0)]),t("div",null,[u(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>r.phone=s),type:"text",placeholder:"Enter your phone",class:h(["w-full p-3 border rounded-lg",{"border-red-500":!o.isPhoneValid&&r.phone!==""}])},null,2),[[m,r.phone]]),!o.isPhoneValid&&r.phone!==""?(n(),i("p",ee," Enter a valid phone number. ")):l("",!0)]),t("button",{onClick:e[2]||(e[2]=(...s)=>o.checkout&&o.checkout(...s)),disabled:!o.isFormValid,class:"py-3 px-6 w-full bg-green-500 text-white rounded-lg font-semibold hover:bg-green-600 transition-colors duration-300 disabled:bg-gray-300 disabled:text-gray-500 disabled:cursor-not-allowed"}," Checkout ",8,te)])])])),t("div",se,[E(p,{to:"/",class:"py-2 px-6 bg-green-500 text-white rounded-lg text-lg font-semibold hover:bg-green-600 transition-colors duration-300"},{default:B(()=>e[3]||(e[3]=[T(" Back to Lessons ")])),_:1})])])}const le=g(z,[["render",re],["__scopeId","data-v-482395c4"]]);export{le as default};
